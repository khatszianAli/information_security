<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Credit Card Info — Template</title>
  <style>
    :root{--bg:#f3f6f9;--card:#1f2937;--accent:#0ea5a4;--muted:#64748b}
    body{font-family:Inter,system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;padding:20px}
    .wrap{display:grid;grid-template-columns:420px 1fr;gap:24px;width:100%;max-width:980px}
    .card-preview{background:linear-gradient(135deg,#111827,#0f172a);color:#fff;padding:24px;border-radius:16px;box-shadow:0 8px 30px rgba(2,6,23,.4)}
    .chip{width:52px;height:36px;background:gold;border-radius:6px;margin-bottom:18px}
    .brand{font-weight:700;letter-spacing:1px}
    .cc-number{font-family:monospace;font-size:20px;letter-spacing:2px;margin:10px 0}
    .row{display:flex;justify-content:space-between;align-items:center}
    .small{font-size:12px;color:rgba(255,255,255,.6)}

    
form{background:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 20px rgba(16,24,40,.06)}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    .field{margin-bottom:14px}
    input[type=text],input[type=tel],input[type=month]{width:100%;padding:10px 12px;border:1px solid #e6eef6;border-radius:8px;font-size:15px}
    .grid-2{display:grid;grid-template-columns:1fr 120px;gap:12px}
    .hint{font-size:12px;color:#94a3b8}
    .btn{background:var(--accent);border:none;color:#fff;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    .muted{color:var(--muted)}
    .valid{color:green;font-weight:600}
    .invalid{color:#dc2626;font-weight:600}
    .note{font-size:12px;color:#55607a;margin-top:6px}

    @media (max-width:880px){.wrap{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card-preview" aria-hidden="true">
      <div class="row">
        <div>
          <div class="chip" role="img" aria-label="card chip"></div>
          <div class="brand">ACME Bank</div>
        </div>
        <div class="small">Debit • Visa</div>
      </div>

      <div class="cc-number" id="previewNumber">•••• •••• •••• ••••</div>
      <div class="row" style="margin-top:16px">
        <div>
          <div class="small">Cardholder</div>
          <div id="previewName">FULL NAME</div>
        </div>
        <div>
          <div class="small">Expires</div>
          <div id="previewExp">MM/YY</div>
        </div>
      </div>

      <div class="note">This card preview masks the number for security. CVC is never shown.</div>
    </div>

    <form id="ccForm" action="/save_card" method="POST">
      <h3 style="margin:0 0 8px 0">Enter credit card information</h3>
      <p class="hint">Use this template for collecting card info in demos. Do NOT store raw PAN/CVC unless you're PCI compliant.</p>

      <div class="field">
        <label for="cardName">Cardholder name</label>
        <input id="cardName" name="cardName" type="text" inputmode="text" autocomplete="cc-name" placeholder="Full name" required />
      </div>

      <div class="field">
        <label for="cardNumber">Card number</label>
        <input id="cardNumber" name="cardNumber" type="tel" inputmode="numeric" autocomplete="cc-number" placeholder="1234 5678 9012 3456" maxlength="19" required />
        <div class="hint">We will display a masked version in the preview.</div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label for="exp">Expiry (MM/YY)</label>
          <input id="exp" name="exp" type="text" inputmode="numeric" placeholder="MM/YY" maxlength="5" autocomplete="cc-exp" required />
        </div>
        <div class="field">
          <label for="cvc">CVC</label>
          <input id="cvc" name="cvc" type="tel" inputmode="numeric" placeholder="123" maxlength="4" autocomplete="cc-csc" required />
        </div>
      </div>

      <div class="field">
        <button type="submit" class="btn">Save card</button>
      </div>

      <div id="status" class="muted"></div>
    </form>
  </div>

  <script>

    const formatNumber = (v) => v.replace(/\D/g, '').slice(0,16).replace(/(.{4})/g,'$1 ').trim();
    const maskNumber = (num) => {
      const digits = num.replace(/\D/g,'');
      if(!digits) return '•••• •••• •••• ••••';
      const last4 = digits.slice(-4);
      return '•••• ••• ••• ' + last4.padStart(4,'•');
    }

    function luhnCheck(cardNumber){
      const s = cardNumber.replace(/\D/g,'');
      if(s.length < 12) return false;
      let sum=0, alt=false;
      for(let i=s.length-1;i>=0;i--){
        let n=+s[i];
        if(alt){ n*=2; if(n>9) n-=9; }
        sum+=n; alt=!alt;
      }
      return sum%10===0;
    }

    const els = {
      cardNumber: document.getElementById('cardNumber'),
      cardName: document.getElementById('cardName'),
      exp: document.getElementById('exp'),
      cvc: document.getElementById('cvc'),
      previewNumber: document.getElementById('previewNumber'),
      previewName: document.getElementById('previewName'),
      previewExp: document.getElementById('previewExp'),
      status: document.getElementById('status'),
      form: document.getElementById('ccForm')
    }

    els.cardNumber.addEventListener('input', e=>{
      const formatted = formatNumber(e.target.value);
      e.target.value = formatted;
      els.previewNumber.textContent = maskNumber(formatted);
      const digits = formatted.replace(/\s/g,'');
      if(digits.startsWith('4')) els.previewNumber.setAttribute('data-brand','visa');
      else if(/^5[1-5]/.test(digits)) els.previewNumber.setAttribute('data-brand','mastercard');
      else els.previewNumber.removeAttribute('data-brand');
    });

    els.cardName.addEventListener('input', e=>{
      els.previewName.textContent = e.target.value.trim().toUpperCase() || 'FULL NAME';
    });

    els.exp.addEventListener('input', e=>{
      let v = e.target.value.replace(/\D/g,'').slice(0,4);
      if(v.length>2) v = v.slice(0,2) + '/' + v.slice(2);
      e.target.value = v;
      els.previewExp.textContent = v || 'MM/YY';
    });

    els.form.addEventListener('submit', e=>{
      const number = els.cardNumber.value.replace(/\s/g,'');
      const name = els.cardName.value.trim();
      const exp = els.exp.value.trim();
      const cvc = els.cvc.value.trim();

      if(!name || !number || !exp || !cvc){
        els.status.textContent = 'Please fill in all fields.'; els.status.className='invalid'; return;
      }

      if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(exp)){ els.status.textContent='Expiry must be in MM/YY.'; els.status.className='invalid'; return; }
      if(!/^[0-9]{3,4}$/.test(cvc)){ els.status.textContent='CVC must be 3 or 4 digits.'; els.status.className='invalid'; return; }

      els.status.textContent = 'Card valid (demo). Integrate with a payment gateway for tokenization.'; els.status.className='valid';

      
    });

   
    els.previewNumber.textContent = maskNumber('');
  </script>
</body>
</html>

